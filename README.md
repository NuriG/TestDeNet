# Тестовое задание от компании De Net

![image](./day_3_DeNet.png)

## Описание тестового задания:

1. Создать структуру дерева, состоящую из узлов (Node) имеющих, название, детей и ссылку на родителя (такие же узлы)
2. Написать приложение состоящее из одного экрана с рекурсивной навигацией внутри этого дерева. (Первый экран открывает корневой уровень (root) и далее мы можем пройти в экраны childs)
3. Добавить возможность создания и удалений сущностей на каждом уровне
4. Сохранять состояние дерева на устройстве и подтягивать при следующем входе
5. Название формировать из последних 20 байт хэша узла по аналогии с адресом кошельков Ethereum

## Что уже сделал и что понял (22 марта ОБНОВЛЕНИЕ)

был перерерыв по болезни на большое кол-во дней

- Отказался от идеи Room или sharedPreferences. Для сохранения и загрузки узлов используется механизм сериализации объектов в файлы. При выходе из приложения узлы сохраняются в файл, чтобы при следующем запуске приложения можно было восстановить состояние узлов. Для этого использую классы ObjectInputStream и ObjectOutputStream.

## Что нужно сделать

1. реализовать фичу удаления узлов

## НИЖЕ ИСТОРИЯ

## Что уже сделал и что понял (14 марта ОБНОВЛЕНИЕ)

![image](./newImageForReadme.png)

- Добавил stateholder в виде viewModel
- Полностью пересмотрел видение и реализацию навигации. Теперь только один экран который абстрактно отрисовывает нам в каком элементе Tree мы находимся, кнопка системная назад выводит нас из приложения, а для навигации есть отдельные кнопки на экране
- добавил DI dagger hilt в проект
- перенес логику из UI в вьюмодель
- исправил ошибки с самой структурой данных\* подробнее ниже

- Сегодня ~4 часа искал ошибку а потом решил все, Дело было в том что поменял просто data class на обычный class так как: "В Kotlin при использовании data class объекты сохраняются, а не ссылки на них. Использование data class в данном случае приводит к тому, что при создании нового узла с текущим узлом в качестве родителя, новый узел сохраняет объект текущего узла, а не ссылку на него. Это приводит к тому, что изменения в текущем узле после создания нового узла не отражаются на ранее созданных узлах." Изначально искал проблему в функциях своих

## Что нужно сделать

1. добавить репозиторий и room (возможно preference)
2. реализовать фичу удаления узлов

## Что уже сделал и что понял (13 марта)

![image](./imageReadme.png)

- На данный момент реализована струтура данных дерево через data class а также добавлена навигация с помощью jetpack navigation. Для UI использовал jetpack compose. В общем есть первичная версия приложения, но нет сохранения нормального при поворотах и при выходе. Думал смогу реализовать через remember в jetpack но не получилось(
